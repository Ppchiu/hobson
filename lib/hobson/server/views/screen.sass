@font-face
  font-family: 'PastDueRegular'
  src: url('/fonts/pastduedemo-webfont.eot')
  src: url('/fonts/pastduedemo-webfont.eot?#iefix') format("embedded-opentype"), url('/fonts/pastduedemo-webfont.woff') format("woff"), url('/fonts/pastduedemo-webfont.ttf') format("truetype"), url('/fonts/pastduedemo-webfont.svg#PastDueRegular') format("svg")
  font-weight: normal
  font-style: normal


body
  font-family: monaco
  font-size: 9pt
  background: white


h1,h2,h3
  margin-bottom: 0.75em

h1
  font-size: 150%
h2
  font-size: 130%
h3
  font-size: 110%

ol
  padding-left: 1em
  list-style-type: none
  > li
    margin-bottom: 0.25em

table
  th, td
    padding: 0.25em 0.5em

  th
    font-weight: bold

strong
  font-weight: bold

form
  display: inline-block
  > label
    display: block
    > strong
      display: inline-block
      width: 10em
    > input
      width: 20em
      &[type=submit]
        width: auto
        float: right


#stamp
  z-index: 1
  position: absolute
  top: 1.2em
  right: 10px
  font-family: PastDueRegular
  font-size: 100px
  -webkit-transform: rotate(40deg)
  &.failed
    color: red
  &.passed
    color: green
  &.errored, &.aborted
    color: orange

#nav
  position: relative
  text-align: center
  background: black
  user-select: no-select

  > .title, > .links > a
    padding: 5px

  .title
    margin-bottom: 0
    height: 25px
    font-size: 200%
    color: white

  .links
    position: absolute
    left: 20px
    bottom: 0
    > a
      height: 20px
      display: inline-block
      text-decoration: none
      color: #e4e2d3
      font-weight: bold

  .loading
    display: none
    position: absolute
    top: 10px
    right: 10px
    height: 16px
    width: 16px
    background: black url(/spinner-onblack.gif) no-repeat scroll top right


#breadcrums
  margin: 0 0 0.25em 0
  padding: 0.25em 1em
  background: lightgrey
  > li
    display: inline-block
    padding: 0.25em
    font-weight: bold
    > a
      text-decoration: none
      &, &:visited
        color: blue

#background-image
  z-index: -1
  position: fixed
  bottom: 0
  right: 0
  opacity: 0.5
  height: 40%

.exception, .backtrace
  white-space: pre-line

#content
  padding: 1em


dl.details
  overflow: hidden
  margin-bottom: 1em
  > *
    display: block
    float: left
    font-size: 110%
    padding: 0.25em
  dt
    clear: left
    text-align: right
    font-weight: bold
    width: 10em
    margin-right: 1em
    &:after
      content: ':'

.actions
  position: absolute
  top: 0
  right: 0
  form, input
    display: inline

section.project
  position: relative

section.new-project


a.new-test-run
  display: block
  margin-bottom: 1em

form.new-test-run
  label
    display: block
    > strong
      display: inline-block
      width: 10em
    > input
      display: inline-block
      width: 20em
      &[type=submit]
        width: auto

.test-runs tbody tr
  &.running-tests
    background: lightblue
  &.errored
    background: orange
  &.aborted
    background: grey
  &.failed
    background: lighten(#F00, 20%)
  &.passed
    background: lighten(#008000, 15%)

.test_run
  position: relative

  > .details
    > *
      padding: 0.25em 0
    > dt
      margin-right: 1em
      width: 150px
      font-size: 120%
    > dd
      font-size: 110%

    progress
      display: block
      width: 600px

  > section > h2
    margin-bottom: 1em
    font-size: 120%
    font-weight: bold

  section.jobs
    > .status > *
      position: relative
      padding: 0.25em 0

      > .details
        > *
          padding: 0.25em 0
          overflow: hidden
          white-space: nowrap
          text-decoration: none
        > *
          float: left
          margin-right: 1em
          > *
            display: inline-block
          // > dt
          // > dd

        > .name
          min-width: 60px
        // > .est-runtime
        // > .runtime
        // > .error

      h3
        font-weight: bold

      h2
        margin: 1em 0 0 22px
        font-style: italic

      .icon
        position: absolute
        bottom: 6px
        left: 0
        height: 16px
        width: 16px
        background: white url(/spinner-onwhite.gif) no-repeat scroll top right

      .timeline
        position: relative
        margin: 0.5em 0 0 25px
        padding: 0
        min-height: 1em
        // border: 1px dotted #B4B4B4
        background-color: lightgrey
        overflow: hidden
        cursor: default

        &, > *
          height: 22px
        > *
          // float: left
          position: absolute
          top: 0
          bottom: 0
          overflow: hidden
          margin: 0
          padding: 0.5em 0
          text-indent: 0.5em
          white-space: nowrap
          font-size: 90%
          background-color: rgb(68, 35, 255)

          &.landmark-enqueued
            background-color: lighten(#F00, 20%)
          &.landmark-checking-out-code
            background-color: lighten(#FFA500, 20%)
          &.landmark-preparing
            background-color: lighten(#00F, 20%)
          &.landmark-running-tests
            background-color: lighten(#800080, 40%)
          &.landmark-saving-artifacts
            background-color: lighten(#A52A2A, 20%)
          &.landmark-tearing-down
            background-color: lighten(#000, 20%)

      &.status-waiting-to-be-run, &.status-complete, &.status-errored, &.status-aborted
        .icon
          background-image: none

  section.tests
    .tests-completed progress
      display: block
      width: 100%
      margin-bottom: 1em

    table
      width: 100%
      margin-bottom: 1.5em
      tr
        &.waiting
          color: grey
        &.running
          color: blue
        &.pass
          color: green
        &.fail
          color: red
        &.pending
          color: orange

        td,th
          &.job > div
            width: 4em
          &.test-name
            width: 100%
            overflow: hidden
            > div
              width: 1px
              overflow: visible
              > div
                width: 9999em
          &.tries > div
            width: 4em
          &.est-runtim > div
            width: 4em
          &.runtime > div
            width: 6em
          &.status > div
            width: 5em
          &.result > div
            width: 5em
          &.logs > div
            width: 13em

@mixin glass($dark)
  $light: lighten($dark, 5%)
  $white: rgba(255,255,255,0.5)
  $clear: rgba(255,255,255,0)
  box-shadow: 6px 6px 31px lightgrey, inset 0px 0px 30px 0px $white
  background: -webkit-linear-gradient(top,$white 0%,$white 2%,$clear 20%,$clear 80%,$white 98%,$white 100%), -webkit-repeating-linear-gradient(-45deg,$light 0%,$light 2%,$dark 3%,$dark 5%,$light 6%)
  border: 3px solid $dark

.project_refs
  > .project_ref
    $red: #EC3E2D
    $green: #B8EA88
    $blue: #7EC4ED

    float: left
    height: 18em
    width: 20em

    margin: 1em
    padding: 2em
    border-radius: 2em

    a
      color: black
      text-decoration: none
      &[href="#"]
        cursor: default

    &.green
      +glass($green)
      .icon > .green
        display: block
    &.red
      +glass($red)
      .icon > .red
        display: block
    &.blue
      +glass($blue)
      .icon > .blue
        display: block

    >
      .project, .ref
        display: block
        text-align: center
        font-weight: bold
        margin-bottom: 0.5em

      .project
        font-size: 200%
      .ref
        font-size: 150%

      .history > *
        margin: 1.5em 0
        display: inline-block
        height: 1.5em
        width: 8%
        border-radius: 2em
        box-shadow: 0 0 10px black
        &.transparent
          visibility: hidden
        &.green
          background-color: $green
        &.red
          background-color: $red
        &.blue
          background-color: $blue

      .icon
        font-size: 700%
        text-align: center
        text-shadow: 0px 0px 10px black
        > *
          display: none
          &.red
            color: darken($red,10%)
          &.green
            color: darken($green,10%)
          &.blue
            color: darken($blue,10%)

#new_project_ref
  label
    display: block
  input[type=text]
    margin: 1em
    width: 500px

table.test-runtimes
  td.avg-runtime
    text-align: right
